{"version":3,"sources":["webpack:///./src/views/Orders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?25c1","webpack:///./src/views/Orders.vue?5534","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?2044","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_Loading","active","$data","z-index","_hoisted_2","_Fragment","_renderList","item","key","_toDisplayString","_ctx","date","create_at","user","email","products","product","i","title","qty","unit","total","type","id","is_paid","$event","onChange","$options","checked","for","_hoisted_8","_hoisted_9","onClick","_hoisted_10","_hoisted_11","_component_OrderModal","order","onUpdateOrder","ref","_component_DeleteProduct","onDelProduct","_component_Pagination","pages","onEmitPages","aria-hidden","aria-labelledby","tabindex","data-bs-dismiss","aria-label","_hoisted_4","name","_hoisted_12","_hoisted_13","tel","_hoisted_14","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","_hoisted_27","value","_hoisted_32","_hoisted_33","_hoisted_35","props","Object","default","data","modal","tempOrder","isPaid","emits","mixins","modalMixin","inject","watch","this","__exports__","orders","isNew","isLoading","pagination","currentPage","components","Pagination","OrderModal","DeleteProduct","methods","getOrders","api","process","$http","get","tempProduct","then","response","catch","error","$httpMessageState","openModal","orderComponent","$refs","orderModal","delOrderModal","delComponent","deleteProduct","updateOrder","paid","put","hideModal","delOrder","delete","created","render","disabled","$props","has_pre","href","current_page","total_pages","page","_hoisted_7","has_next","updatePage","$emit","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","arguments","length","source","forEach","defineProperty","getOwnPropertyDescriptors","defineProperties","$","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","descriptor","O","f","result","index","undefined","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","forced","it"],"mappings":"4IAGWA,MAAM,c,EACTC,gCASQ,cARNA,gCAOK,WANHA,gCAAa,UAAT,QACJA,gCAAc,UAAV,SACJA,gCAAa,UAAT,QACJA,gCAAa,UAAT,QACJA,gCAAa,UAAT,QACJA,gCAAW,UAAP,UAPR,G,qBAkBYD,MAAM,iB,GAaLA,MAAM,0B,wVAlCzBE,gCA0EM,YAzEJC,yBAAuDC,EAAA,CAA7CC,OAAQC,YAAYC,UAAS,MAAvC,mBACAN,gCAoEU,QApEV,EAoEU,CAnENO,EAUAP,gCAwDQ,0CAvDNC,gCAsDWO,cAAA,KAAAC,wBAtDqBJ,UAAM,SAApBK,EAAMC,G,gCACtBV,gCAoDK,MAAAU,IArDuCA,GAAG,CAE7CX,gCAA4C,UAAAY,6BAArCC,WAASC,KAAKJ,EAAKK,YAAS,GACnCf,gCAEK,WADkCU,EAAKM,+BAA1Cf,gCAAuD,Q,kBAAjDW,6BAAQF,EAAKM,KAAKC,QAAxB,oDAEFjB,gCAWK,WAVHA,gCASK,KATL,EASK,6BAJHC,gCAGKO,cAAA,KAAAC,wBAHsBC,EAAKQ,UAAQ,SAA5BC,EAASC,G,gCAArBnB,gCAGK,MAHsCU,IAAKS,GAAC,CAC/CpB,gCAAoF,SAAAY,6BAA9EO,EAAQA,QAAQE,OAAQ,SAAMT,6BAAGO,EAAQG,KAAM,IAACV,6BAAGO,EAAQA,QAAQI,MAAI,QAD/E,UAMJvB,gCAAyB,UAAAY,6BAAlBF,EAAKc,OAAK,GACjBxB,gCAiBK,WAhBHA,gCAcM,MAdN,EAcM,6BAZJA,gCAOW,SANTD,MAAM,mBACN0B,KAAK,WACLC,GAAG,yB,yCAEMhB,EAAKiB,QAAOC,GACpBC,SAAM,mBAAEC,cAAYpB,IACrBqB,QAAA,IAPF,iCAKWrB,EAAKiB,WAGhB3B,gCAGQ,SAHDD,MAAM,mBAAmBiC,IAAI,0BAApC,CACctB,EAAKiB,kCAAjB1B,gCAAoC,OAAAgC,EAAV,SAA1B,yBACAhC,gCAAuB,OAAAiC,EAAV,SAFf,SAOJlC,gCAeK,WAdHA,gCAMS,UALPyB,KAAK,SACL1B,MAAM,0DACLoC,QAAK,mBAAEL,YAAUpB,KACnB,OAED,EAAA0B,GACApC,gCAMS,UALPyB,KAAK,SACL1B,MAAM,0CACLoC,QAAK,mBAAEL,gBAAcpB,KACvB,OAED,EAAA2B,UAnDN,UAyDJnC,yBAAyFoC,EAAA,CAA5EC,MAAOlC,YAAYmC,cAAcV,cAAaW,IAAI,cAA/D,kCACAvC,yBAA6FwC,EAAA,CAA7EhC,KAAML,YAAYsC,aAAab,WAAUW,IAAI,iBAA7D,gCACAvC,yBAAoE0C,EAAA,CAAvDC,MAAOxC,aAAayC,YAAWhB,aAA5C,kC,sDCxEG/B,MAAM,aAAa2B,GAAG,aAAae,IAAI,QAAQM,cAAY,OAAOC,kBAAgB,0BAA0BC,SAAS,O,GACnHlD,MAAM,+C,GACJA,MAAM,iB,EACTC,gCAGM,OAHDD,MAAM,wBAAsB,CAC/BC,gCAAyE,MAArED,MAAM,yBAAyB2B,GAAG,2BAA0B,QAChE1B,gCAA4F,UAApFyB,KAAK,SAAS1B,MAAM,YAAYmD,kBAAgB,QAAQC,aAAW,YAF7E,G,GAIKpD,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,EACTC,gCAAa,UAAT,QAAI,G,GACDD,MAAM,S,YAGPC,gCAAW,UAAP,MAAE,G,EAINA,gCAAc,UAAV,SAAK,G,EAITA,gCAAW,UAAP,MAAE,G,EAINA,gCAAW,UAAP,MAAE,G,GAMTD,MAAM,Y,EACTC,gCAAa,UAAT,QAAI,G,GAEDD,MAAM,S,EAGPC,gCAAa,UAAT,QAAI,G,EAIRA,gCAAa,UAAT,QAAI,G,EAIRA,gCAAa,UAAT,QAAI,G,sBAORA,gCAAa,UAAT,QAAI,G,SAEAD,MAAM,gB,SACCA,MAAM,kB,EAIrBC,gCAAY,UAAR,OAAG,G,EAMbA,gCAAa,UAAT,QAAI,G,GACDD,MAAM,S,GAQRA,MAAM,8B,GACJA,MAAM,c,GASFA,MAAM,mBAAmBiC,IAAI,oB,uBASzCjC,MAAM,gB,EACTC,gCAMS,UALPyB,KAAK,SACL1B,MAAM,4BACNmD,kBAAgB,SACjB,QAED,G,wDAtGVjD,gCAkHM,YAjHJD,gCAgHM,MAhHN,EAgHM,CA/GJA,gCA8GM,MA9GN,EA8GM,CA7GJA,gCA4GM,MA5GN,EA4GM,CA3GJoD,EAIApD,gCAsFM,MAtFN,EAsFM,CArFJA,gCAoFM,MApFN,EAoFM,CAnFJA,gCAsBM,MAtBN,EAsBM,CArBJiC,EACAjC,gCAmBQ,QAnBR,EAmBQ,CAlBOK,YAAUW,+BAAvBf,gCAiBQ,QAAAmC,EAAA,CAhBNpC,gCAGK,WAFHqC,EACArC,gCAAkC,UAAAY,6BAA3BP,YAAUW,KAAKqC,MAAI,KAE5BrD,gCAGK,WAFHsD,EACAtD,gCAAmC,UAAAY,6BAA5BP,YAAUW,KAAKC,OAAK,KAE7BjB,gCAGK,WAFHuD,EACAvD,gCAAiC,UAAAY,6BAA1BP,YAAUW,KAAKwC,KAAG,KAE3BxD,gCAGK,WAFHyD,EACAzD,gCAAqC,UAAAY,6BAA9BP,YAAUW,KAAK0C,SAAO,QAfjC,2CAoBJ1D,gCA2DM,MA3DN,EA2DM,CA1DJ2D,EAEA3D,gCA6BQ,QA7BR,EA6BQ,CA5BNA,gCA2BQ,cA1BNA,gCAGK,WAFH4D,EACA5D,gCAA2B,UAAAY,6BAApBP,YAAUqB,IAAE,KAErB1B,gCAGK,WAFH6D,EACA7D,gCAAiD,UAAAY,6BAA1CC,WAASC,KAAKT,YAAUU,YAAS,KAE1Cf,gCAMK,WALH8D,EACA9D,gCAGK,WAFSK,YAAUsB,kCAAtB1B,gCAA2E,OAAA8D,EAAAnD,6BAAzCC,WAASC,KAAKT,YAAUsB,UAAO,KAAjE,yBACA1B,gCAAyB,OAAA+D,EAAZ,cAGjBhE,gCAMK,WALHiE,EACAjE,gCAGK,WAF8BK,YAAUsB,kCAA3C1B,gCAA8D,OAA9D,EAAoD,SAApD,yBACAA,gCAA8C,OAA9C,EAAoC,YAGxCD,gCAGK,WAFHkE,EACAlE,gCAA8B,UAAAY,6BAAvBP,YAAUmB,OAAK,SAK5B2C,EACAnE,gCAOQ,QAPR,EAOQ,CANNA,gCAKQ,0CAJNC,gCAGKO,cAAA,KAAAC,wBAHcJ,YAAUa,UAAQ,SAA1BR,G,gCAAXT,gCAGK,MAHmCU,IAAKD,EAAKgB,IAAlD,CACE1B,gCAAiC,UAAAY,6BAA1BF,EAAKS,QAAQE,OAAK,GACzBrB,gCAAiD,UAAAY,6BAA1CF,EAAKY,KAAM,MAAGV,6BAAGF,EAAKS,QAAQI,MAAI,QAF3C,UAMJvB,gCAeM,MAfN,EAeM,CAdJA,gCAaM,MAbN,EAaM,6BAZJA,gCAOC,SANCD,MAAM,mBACN0B,KAAK,WACL2C,MAAM,GACN1C,GAAG,mB,qDACMrB,YAAUsB,QAAOC,IAC1BG,QAAA,IANF,gCAKW1B,YAAUsB,WAGrB3B,gCAGQ,QAHR,EAGQ,CAFMK,YAAUsB,kCAAtB1B,gCAAyC,OAAAoE,EAAV,SAA/B,yBACApE,gCAAuB,OAAAqE,EAAV,oBAOzBtE,gCAeM,MAfN,EAeM,CAdJuE,EAOAvE,gCAMS,UALPyB,KAAK,SACL1B,MAAM,oBACLoC,QAAK,+BAAEtB,QAAK,eAAiBR,gBAC/B,mBA1GT,O,iBAsHW,IACbmE,MAAO,CACLjC,MAAO,CACLd,KAAMgD,OACNC,QAFK,WAGH,MAAO,MAIbC,KATa,WAUX,MAAO,CACLC,MAAO,GACPC,UAAW,GACXC,QAAQ,IAGZC,MAAO,CAAC,gBACRC,OAAQ,CAACC,SACTC,OAAQ,CAAC,WACTC,MAAO,CACL5C,MADK,WAEH6C,KAAKP,UAAYO,KAAK7C,S,wBCxI5B,MAAM8C,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS,KAErD,U,aF4EA,IACbV,KADa,WAEX,MAAO,CACLW,OAAQ,GACRC,OAAO,EACPC,WAAW,EACXC,WAAY,GACZZ,UAAW,GACXa,YAAa,IAGjBC,WAAY,CACVC,kBACAC,cACAC,uBAEFC,QAAS,CACPC,UADO,WACoB,WAAjBN,EAAiB,uDAAH,EACtBN,KAAKM,YAAcA,EACnB,IAAMO,EAAE,UAAOC,2CAAP,gBAAsCA,YAAtC,8BAAoFR,GAC5FN,KAAKI,WAAY,EACjBJ,KAAKe,MAAMC,IAAIH,EAAKb,KAAKiB,aACxBC,MAAK,SAACC,GACL,EAAKjB,OAASiB,EAAS5B,KAAKW,OAC5B,EAAKG,WAAac,EAAS5B,KAAKc,WAChC,EAAKD,WAAY,KAElBgB,OAAM,SAACC,GACN,EAAKjB,WAAY,EACjB,EAAKkB,kBAAkBD,EAAMF,SAAU,YAG3CI,UAhBO,SAgBGjG,GACR0E,KAAKP,UAAL,kBAAqBnE,GACrB0E,KAAKG,OAAQ,EACb,IAAMqB,EAAiBxB,KAAKyB,MAAMC,WAClCF,EAAeD,aAEjBI,cAtBO,SAsBOrG,GACZ0E,KAAKP,UAAL,kBAAqBnE,GACrB,IAAMsG,EAAe5B,KAAKyB,MAAMI,cAChCD,EAAaL,aAEfO,YA3BO,SA2BKxG,GAAM,WACVuF,EAAE,UAAOC,2CAAP,gBAAsCA,YAAtC,wBAA8ExF,EAAKgB,IAC3F0D,KAAKI,WAAY,EACjB,IAAM2B,EAAO,CACXxF,QAASjB,EAAKiB,SAEhByD,KAAKe,MAAMiB,IAAInB,EAAK,CAAEtB,KAAMwC,IAC3Bb,MAAK,SAACC,GACL,EAAKf,WAAY,EACjB,IAAMoB,EAAiB,EAAKC,MAAMC,WAClCF,EAAeS,YACf,EAAKrB,UAAU,EAAKN,aACpB,EAAKgB,kBAAkBH,EAAU,aAElCC,OAAM,SAACC,GACN,EAAKjB,WAAY,EACjB,EAAKkB,kBAAkBD,EAAMF,SAAU,YAG3Ce,SA9CO,WA8CI,WACHrB,EAAE,UAAOC,2CAAP,gBAAsCA,YAAtC,wBAA8Ed,KAAKP,UAAUnD,IACrG0D,KAAKI,WAAY,EACjBJ,KAAKe,MAAMoB,OAAOtB,GACjBK,MAAK,WACJ,IAAMU,EAAe,EAAKH,MAAMI,cAChCD,EAAaK,YACb,EAAK7B,WAAY,EACjB,EAAKQ,UAAU,EAAKN,gBAErBc,OAAM,SAACC,GACN,EAAKjB,WAAY,EACjB,EAAKkB,kBAAkBD,EAAMF,SAAU,aAI7CiB,QA9Ea,WA+EXpC,KAAKY,cG7JT,MAAM,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAASyB,KAErD,iB,qDCNR1H,MAAM,iC,GACJoD,aAAW,2B,GACVpD,MAAM,c,EAUJC,gCAAuC,QAAjC+C,cAAY,QAAO,KAAO,G,GAAhCK,G,SASIrD,MAAM,a,gBAqBVC,gCAAuC,QAAjC+C,cAAY,QAAO,KAAO,G,GAAhCd,G,wDA1CVhC,gCA+CM,MA/CN,EA+CM,CA9CJD,gCA6CM,MA7CN,EA6CM,CA5CJA,gCA2CK,KA3CL,EA2CK,CAxCHA,gCASK,MATAD,MAAK,8BAAA2H,UAAeC,QAAMC,SAAiB,eAAhD,CACE5H,gCAOI,KANFD,MAAM,YACN8H,KAAK,IACL1E,aAAW,WACVhB,QAAK,2DAAUL,aAAW6F,QAAMG,aAAY,oBAJ/C,IADF,IAwCG,2BA9BH7H,gCAgBKO,cAAA,KAAAC,wBAdYkH,QAAMI,aAAW,SAAzBC,G,gCAFT/H,gCAgBK,MAfHF,MAAK,6BAAC,YAAW,CAAAK,OAGC4H,IAASL,QAAMG,gBADhCnH,IAAKqH,GAHR,CAMgCA,IAASL,QAAMG,uCAA7C7H,gCAEO,OAFP,EAEOW,6BADFoH,GAAI,KADT,yBAGA/H,gCAMI,K,MALFF,MAAM,YAEN8H,KAAK,IACJ1F,QAAK,+CAAUL,aAAWkG,KAAI,cAJjC,6BAKMA,GAAI,EAAAC,KAdZ,YAiBAjI,gCAYK,MAXHD,MAAK,6BAAC,YAAW,CAAA2H,UACIC,QAAMO,aAF7B,CAIElI,gCAOI,KANFD,MAAM,YACN8H,KAAK,IACL1E,aAAW,OACVhB,QAAK,2DAAUL,aAAW6F,QAAMG,aAAY,oBAJ/C,IAJF,SAmBO,OAEbtD,MAAM,CAAC,SACPuB,QAAS,CACPoC,WADO,SACIH,GAGT5C,KAAKgD,MAAM,YAAaJ,M,qBCtD9B,MAAM3C,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASoC,KAErD,U,0JCLf,SAASY,EAAQC,EAAQC,GACvB,IAAIC,EAAO/D,OAAO+D,KAAKF,GAEvB,GAAI7D,OAAOgE,sBAAuB,CAChC,IAAIC,EAAUjE,OAAOgE,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOnE,OAAOoE,yBAAyBP,EAAQM,GAAKE,eACjDN,EAAKO,KAAKC,MAAMR,EAAME,GAG7B,OAAOF,EAGM,SAASS,EAAeC,GACrC,IAAK,IAAI9H,EAAI,EAAGA,EAAI+H,UAAUC,OAAQhI,IAAK,CACzC,IAAIiI,EAAS,MAAQF,UAAU/H,GAAK+H,UAAU/H,GAAK,GACnDA,EAAI,EAAIiH,EAAQ5D,OAAO4E,IAAS,GAAIC,SAAQ,SAAU3I,GACpD4I,eAAeL,EAAQvI,EAAK0I,EAAO1I,OAChC8D,OAAO+E,0BAA4B/E,OAAOgF,iBAAiBP,EAAQzE,OAAO+E,0BAA0BH,IAAWhB,EAAQ5D,OAAO4E,IAASC,SAAQ,SAAU3I,GAC5J8D,OAAO8E,eAAeL,EAAQvI,EAAK8D,OAAOoE,yBAAyBQ,EAAQ1I,OAI/E,OAAOuI,I,qBCzBT,IAAIQ,EAAI,EAAQ,QACZC,EAAc,EAAQ,QACtBtB,EAAU,EAAQ,QAClBuB,EAAkB,EAAQ,QAC1BC,EAAiC,EAAQ,QACzCC,EAAiB,EAAQ,QAI7BJ,EAAE,CAAER,OAAQ,SAAUa,MAAM,EAAMC,MAAOL,GAAe,CACtDH,0BAA2B,SAAmClB,GAC5D,IAKI3H,EAAKsJ,EALLC,EAAIN,EAAgBtB,GACpBO,EAA2BgB,EAA+BM,EAC1D3B,EAAOH,EAAQ6B,GACfE,EAAS,GACTC,EAAQ,EAEZ,MAAO7B,EAAKY,OAASiB,EACnBJ,EAAapB,EAAyBqB,EAAGvJ,EAAM6H,EAAK6B,WACjCC,IAAfL,GAA0BH,EAAeM,EAAQzJ,EAAKsJ,GAE5D,OAAOG,M,qBCrBX,IAAIV,EAAI,EAAQ,QACZa,EAAQ,EAAQ,QAChBX,EAAkB,EAAQ,QAC1BY,EAAiC,EAAQ,QAAmDL,EAC5FR,EAAc,EAAQ,QAEtBc,EAAsBF,GAAM,WAAcC,EAA+B,MACzEE,GAAUf,GAAec,EAI7Bf,EAAE,CAAER,OAAQ,SAAUa,MAAM,EAAMY,OAAQD,EAAQV,MAAOL,GAAe,CACtEd,yBAA0B,SAAkC+B,EAAIjK,GAC9D,OAAO6J,EAA+BZ,EAAgBgB,GAAKjK","file":"assets/js/chunk-037b57e1.46f9ab5f.js","sourcesContent":["<template>\r\n  <div>\r\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\r\n    <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>購買時間</th>\r\n            <th>Email</th>\r\n            <th>購買款項</th>\r\n            <th>應付金額</th>\r\n            <th>是否付款</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n            <tr>\r\n              <td>{{ $filters.date(item.create_at) }}</td>\r\n              <td>\r\n                <span v-text=\"item.user.email\" v-if=\"item.user\"></span>\r\n              </td>\r\n              <td>\r\n                <ul class=\"list-unstyled\">\r\n                  <!-- v-for=\"(product, i) in item.products\" (product, i) product 可以自行定義， i 為索引值\r\n                  item.products 用網頁看 vue 項目會看到，項目底下有一個 products\r\n                  products 裡面還有一個 product\r\n                  因此 {{ product.product.title }} 則是 {{ 自定義的 product.項目裡的 product.product 裡的 title }} -->\r\n                  <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                    <p>{{ product.product.title }} 　　數量：{{ product.qty }} {{ product.product.unit }}</p>\r\n                    <!-- {{ product.qty }} 用網頁看 vue 可以看到 qty 和 product 同層，因此這邊是 {{ 自定義 product.products 的 qty }} -->\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n              <td>{{ item.total }}</td>\r\n              <td>\r\n                <div class=\"form-check form-switch\">\r\n                  <!-- :id=\"`paidCheck${item.id}`\" paidCheck為自定義 -->\r\n                  <input \r\n                    class=\"form-check-input\" \r\n                    type=\"checkbox\" \r\n                    id=\"flexSwitchCheckChecked\" \r\n                    :id=\"`paidCheck${item.id}`\"\r\n                    v-model=\"item.is_paid\"\r\n                    @change=\"updateOrder(item)\"\r\n                    checked >\r\n                  <label class=\"form-check-label\" for=\"flexSwitchCheckChecked\" :for=\"`paidCheck${item.id}`\">\r\n                    <span v-if=\"item.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>  \r\n                  </label>\r\n                </div>\r\n                \r\n              </td>\r\n              <td>\r\n                <button \r\n                  type=\"button\" \r\n                  class=\"btn btn-sm btn-outline-secondary border-end-0 rounded-0\"\r\n                  @click=\"openModal(item)\"\r\n                >\r\n                  檢視\r\n                </button>\r\n                <button \r\n                  type=\"button\" \r\n                  class=\"btn btn-sm btn-outline-danger rounded-0\"\r\n                  @click=\"delOrderModal(item)\"\r\n                >\r\n                  刪除\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </template>         \r\n        </tbody>\r\n      </table>\r\n      <OrderModal :order=\"tempOrder\" @update-order=\"updateOrder\" ref=\"orderModal\"></OrderModal>\r\n      <DeleteProduct :item=\"tempOrder\" @del-product=\"delOrder\" ref=\"deleteProduct\"></DeleteProduct>\r\n      <Pagination :pages=\"pagination\" @emitPages=\"getOrders\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue';\r\nimport OrderModal from '@/components/OrderModal.vue';\r\nimport DeleteProduct from '@/components/DeleteProduct.vue';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: {},\r\n      isNew: false,\r\n      isLoading: false,\r\n      pagination: {},\r\n      tempOrder: {},\r\n      currentPage: 1,\r\n    };\r\n  },\r\n  components: {\r\n    Pagination,\r\n    OrderModal,\r\n    DeleteProduct,\r\n  },\r\n  methods: {\r\n    getOrders(currentPage = 1) {\r\n      this.currentPage = currentPage;\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`;\r\n      this.isLoading = true;\r\n      this.$http.get(api, this.tempProduct)\r\n      .then((response) => {\r\n        this.orders = response.data.orders;\r\n        this.pagination = response.data.pagination;\r\n        this.isLoading = false;\r\n      })\r\n      .catch((error) => {\r\n        this.isLoading = false;\r\n        this.$httpMessageState(error.response, '錯誤訊息');\r\n      })\r\n    },\r\n    openModal(item) {\r\n      this.tempOrder = {...item};\r\n      this.isNew = false;\r\n      const orderComponent = this.$refs.orderModal;\r\n      orderComponent.openModal();\r\n    },\r\n    delOrderModal(item) {\r\n      this.tempOrder = {...item};\r\n      const delComponent = this.$refs.deleteProduct;\r\n      delComponent.openModal();\r\n    },\r\n    updateOrder(item) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\r\n      this.isLoading = true;\r\n      const paid = {\r\n        is_paid: item.is_paid,\r\n      };\r\n      this.$http.put(api, { data: paid })\r\n      .then((response) => {\r\n        this.isLoading = false;\r\n        const orderComponent = this.$refs.orderModal;\r\n        orderComponent.hideModal();\r\n        this.getOrders(this.currentPage);\r\n        this.$httpMessageState(response, '更新付款狀態');\r\n      })\r\n      .catch((error) => {\r\n        this.isLoading = false;\r\n        this.$httpMessageState(error.response, '錯誤訊息');\r\n      })\r\n    },\r\n    delOrder() {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\r\n      this.isLoading = true;\r\n      this.$http.delete(api)\r\n      .then(() => {\r\n        const delComponent = this.$refs.deleteProduct;\r\n        delComponent.hideModal();\r\n        this.isLoading = false;\r\n        this.getOrders(this.currentPage);\r\n      })\r\n      .catch((error) => {\r\n        this.isLoading = false;\r\n        this.$httpMessageState(error.response, '錯誤訊息');\r\n      })\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrders();\r\n  },\r\n}\r\n</script>","<template>\r\n  <div>\r\n    <div class=\"modal fade\" id=\"orderModal\" ref=\"modal\" aria-hidden=\"true\" aria-labelledby=\"exampleModalToggleLabel\" tabindex=\"-1\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-dark\">\r\n            <h5 class=\"modal-title text-light\" id=\"exampleModalToggleLabel\">訂單細節</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-4\">\r\n                <h4>用戶資料</h4>\r\n                <table class=\"table\">\r\n                  <tbody v-if=\"tempOrder.user\">\r\n                    <tr>\r\n                      <th>姓名</th>\r\n                      <td>{{ tempOrder.user.name }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Email</th>\r\n                      <td>{{ tempOrder.user.email }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>電話</th>\r\n                      <td>{{ tempOrder.user.tel }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>地址</th>\r\n                      <td>{{ tempOrder.user.address }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <h4>訂單細節</h4>\r\n                <!-- 訂單細節 -->\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>訂單編號</th>\r\n                      <td>{{ tempOrder.id }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>下單時間</th>\r\n                      <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款時間</th>\r\n                      <td>\r\n                        <span v-if=\"tempOrder.is_paid\">{{ $filters.date(tempOrder.is_paid)}}</span>\r\n                        <span v-else>時間不正確</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款狀態</th>\r\n                      <td>\r\n                        <span class=\"text-success\" v-if=\"tempOrder.is_paid\">已付款</span>\r\n                        <span v-else class=\"text-secondary\">未付款</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>總金額</th>\r\n                      <td>{{ tempOrder.total }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <!-- 選購商品 -->\r\n                <h4>選購商品</h4>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                      <th>{{ item.product.title }}</th>\r\n                      <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <div class=\"d-flex justify-content-end\">\r\n                  <div class=\"form-check\">\r\n                    <input \r\n                      class=\"form-check-input\" \r\n                      type=\"checkbox\" \r\n                      value=\"\" \r\n                      id=\"flexCheckChecked\" \r\n                      v-model=\"tempOrder.is_paid\"\r\n                      checked\r\n                    >\r\n                    <label class=\"form-check-label\" for=\"flexCheckChecked\">\r\n                      <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                      <span v-else>未付款</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\" \r\n              data-bs-dismiss=\"modal\" \r\n            >\r\n              取消\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary\" \r\n              @click=\"$emit('update-order', tempOrder)\"\r\n            >\r\n              修改付款狀態\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin';\r\n\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      modal: '',\r\n      tempOrder: {},\r\n      isPaid: false,\r\n    };\r\n  },\r\n  emits: ['update-order'],\r\n  mixins: [modalMixin],\r\n  inject: ['emitter'],\r\n  watch: {\r\n    order() {\r\n      this.tempOrder = this.order;\r\n    },\r\n  },\r\n}\r\n</script>","import { render } from \"./OrderModal.vue?vue&type=template&id=3237f01c\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue-spring\\\\vue-week7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=73b433d6\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue-spring\\\\vue-week7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"d-flex justify-content-center\">\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\" >\r\n        <!-- :class=\"{ 'disabled':!pages.has_prc } 這個時候的資料已經在 pages 裡面 -->\r\n        <!-- 發現必須先寫 :class=\"{ disabled: !pages.has_pre }\" 再寫 class=\"page-item\" Previous 才有反應 -->\r\n        <li :class=\"{ disabled: !pages.has_pre }\" class=\"page-item\">\r\n          <a \r\n            class=\"page-link\" \r\n            href=\"#\" \r\n            aria-label=\"Previous\"\r\n            @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li \r\n          class=\"page-item\"\r\n          v-for=\"page in pages.total_pages\"\r\n          :key=\"page\"\r\n          :class=\"{ active: page === pages.current_page }\"\r\n        >\r\n          <span class=\"page-link\" v-if=\"page === pages.current_page\">\r\n            {{ page }}\r\n          </span>\r\n          <a\r\n            class=\"page-link\"\r\n            v-else\r\n            href=\"#\"\r\n            @click.prevent=\"updatePage(page)\"\r\n            >{{ page }}\r\n          </a>\r\n        </li>\r\n        <li \r\n          class=\"page-item\"\r\n          :class=\"{ disabled: !pages.has_next }\"\r\n        >\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n            @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // Products.vue 的 pagination 傳送進來\r\n  props:['pages'],\r\n  methods: {\r\n    updatePage(page) {\r\n      // emit 觸發 Products.vue 的 getProducts\r\n      // 並且代入 getProducts 的參數 page\r\n      this.$emit('emitPages', page);\r\n    },    \r\n  },\r\n}\r\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=80ea4320\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\html\\\\六角學院\\\\vue-spring\\\\vue-week7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}